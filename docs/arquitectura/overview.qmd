# Visión General del Sistema

UpTrackAI se integra en un ecosistema empresarial para proporcionar visibilidad sobre la salud de los servicios críticos.

## Diagrama de Contexto (C4 Nivel 1)

El siguiente diagrama muestra cómo UpTrackAI interactúa con sus usuarios y sistemas externos.

![Diagrama de Contexto](../diagrams/img/Diagrama de Contexto C4 - UpTrackAI.png)

### Actores y Sistemas

1.  **Usuario:** Persona que configura los monitoreos y recibe las alertas.
2.  **UpTrackAI (Sistema):** El núcleo de la solución SaaS.
3.  **Sistemas Monitoreados:** APIs, sitios web y servidores que son objeto de verificación.
4.  **Servicio de Mensajería:** Plataformas externas (Telegram, Slack) utilizadas para entregar notificaciones en tiempo real.

## Alcance

El sistema abarca desde la recolección de métricas mediante chequeos HTTP/TCP hasta la entrega de alertas y visualización de datos históricos.

## Clean Architecture

UpTrackAI implementa Clean Architecture con clara separación de responsabilidades:

```
Capa de Presentación (HTTP, CLI)
    ↓
Capa de Aplicación (Casos de Uso, Servicios)
    ↓
Capa de Dominio (Entidades, Reglas de Negocio)
    ↓
Capa de Infraestructura (Base de Datos, APIs Externas)
```

## Patrones de Diseño Clave

### Patrón Repository
- Abstrae operaciones de acceso a datos
- Permite pruebas y mocking fáciles
- Soporta múltiples implementaciones de base de datos

### Inyección de Dependencias
- Acoplamiento bajo entre componentes
- Pruebas y mantenimiento más fáciles
- Configurable en tiempo de ejecución

### Patrón Worker Pool
- Procesamiento concurrente de objetivos de monitoreo
- Cantidad de workers configurable según carga del sistema
- Apagado graceful y gestión de recursos

## Modelo de Concurrencia

El sistema utiliza goroutines y canales para concurrencia:

- **Worker Pool**: Procesamiento paralelo de objetivos
- **Notificaciones Asíncronas**: Entrega desacoplada de alertas
- **Polling de Telegram**: Procesamiento de mensajes en segundo plano

## Gestión de Estados

Monitoreo inteligente con detección de 6 estados:

- **UP**: El objetivo está saludable
- **DOWN**: El objetivo es inalcanzable
- **DEGRADED**: Problemas de rendimiento detectados
- **UNSTABLE**: Fallos intermitentes
- **FLAPPING**: Cambios rápidos de estado
- **UNKNOWN**: Datos insuficientes para determinar